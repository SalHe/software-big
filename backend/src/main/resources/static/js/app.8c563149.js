(function(t){function e(e){for(var s,r,i=e[0],l=e[1],c=e[2],d=0,m=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&m.push(a[r][0]),a[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),o()}function o(){for(var t,e=0;e<n.length;e++){for(var o=n[e],s=!0,i=1;i<o.length;i++){var l=o[i];0!==a[l]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=o[0]))}return t}var s={},a={app:0},n=[];function r(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=s,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(o,s,function(e){return t[e]}.bind(null,s));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;n.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0059":function(t,e,o){},"01c5":function(t,e,o){},"034f":function(t,e,o){"use strict";o("85ec")},"0c69":function(t,e,o){"use strict";o("d137")},"1c10":function(t,e,o){},"22d4":function(t,e,o){},"24c8":function(t,e,o){"use strict";o("a82d")},"266e":function(t,e,o){},"295f":function(t,e,o){"use strict";o("93d3")},"4d5f":function(t,e,o){"use strict";o("793e")},"4fe3":function(t,e,o){"use strict";o("22d4")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var s=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{style:t.backgroundDiv,attrs:{id:"app"}},[o("Banner"),o("router-view")],1)},n=[],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex2,mode:"horizontal","background-color":"#b9dbf8","text-color":"#fff"}},[o("el-menu-item",{attrs:{id:"homeBtn"},on:{click:t.goToHome}},[t._v("首页")]),t.isAuth?t._e():o("router-link",{attrs:{to:"/login"}},[o("el-menu-item",{attrs:{id:"loginBtn"}},[t._v("登陆")])],1),t.isAuth?t._e():o("router-link",{attrs:{to:"/register"}},[o("el-menu-item",{attrs:{id:"registerBtn"}},[t._v("注册")])],1),t.isAuth?o("el-menu-item",{attrs:{id:"logoutBtn"},on:{click:t.Logout}},[t._v(" 登出 ")]):t._e(),t._e(),!t.isAuth||t.isAdmin||t.isStu?t._e():o("el-menu-item",{attrs:{id:"goToCourseBtn"},on:{click:t.goToCourse}},[t._v(" 班级管理 ")]),t.isAuth&&t.isAdmin?o("el-submenu",{attrs:{id:"goToCourseBtn"},on:{click:t.goToCourse}},[o("template",{slot:"title"},[t._v("模拟登陆")]),o("el-menu-item",{on:{click:function(e){return t.changeRole("教师")}}},[t._v("模拟老师")]),o("el-menu-item",{on:{click:function(e){return t.changeRole("学生")}}},[t._v("模拟学生")]),o("el-menu-item",{on:{click:function(e){return t.changeRole("管理员")}}},[t._v("返回管理员")])],2):t._e(),t.isAuth?o("el-menu-item",{staticStyle:{"user-select":"none"},attrs:{id:"userNewsBtn"},on:{click:t.goToNews}}):t._e()],1)],1)},i=[],l={name:"Banner",data:function(){return{newsNum:7}},methods:{goToHome:function(){this.$router.push({path:"/"})},goToCourse:function(){this.$router.push({name:"Course"})},Logout:function(){sessionStorage.removeItem("token"),sessionStorage.removeItem("role"),window.location.href="/"},goToFaceImg:function(){this.$router.push({name:"FaceImg",params:{notAsChild:!0}})},changeRole:function(t){"教师"==t||"学生"==t?(sessionStorage.setItem("role",t),sessionStorage.setItem("simulation","true")):(sessionStorage.setItem("role",t),sessionStorage.removeItem("simulation")),this.$router.push({path:"/"})}},computed:{isAuth:function(){return!!sessionStorage.getItem("token")},isStu:function(){return"学生"==sessionStorage.getItem("role")},isAdmin:function(){return"管理员"==sessionStorage.getItem("role")||sessionStorage.getItem("simulation")}}},c=l,u=(o("f230"),o("2877")),d=Object(u["a"])(c,r,i,!1,null,null,null),m=d.exports,p={name:"App",components:{Banner:m},mounted:function(){},data:function(){return{backgroundDiv:{backgroundImage:"url("+o("d7ff")+")",backgroundRepeat:"no-repeat"}}}},h=p,f=(o("034f"),Object(u["a"])(h,a,n,!1,null,null,null)),g=f.exports,b=o("5c96"),v=o.n(b),S=(o("0fae"),o("b0c0"),o("8c4f")),x=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"loginRoot"}},[o("div",{attrs:{id:"loginBox"}},[o("el-form",{attrs:{id:"loginForm"},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}},[o("span",{attrs:{id:"accountChar"}},[o("i",{staticClass:"el-icon-user-solid"})]),o("el-input",{staticClass:"input",attrs:{id:"accountInput",placeholder:"请输入账号"},model:{value:t.login.account,callback:function(e){t.$set(t.login,"account",e)},expression:"login.account"}}),o("span",{attrs:{id:"passwordChar"}},[o("i",{staticClass:"el-icon-lock"})]),o("el-input",{staticClass:"input",attrs:{id:"passwordInput",placeholder:"请输入密码","show-password":""},model:{value:t.login.password,callback:function(e){t.$set(t.login,"password",e)},expression:"login.password"}})],1),o("el-button",{attrs:{id:"loginSubBtn",type:"primary"},on:{click:t.onSubmit}},[t._v(" 登录 ")]),o("el-link",{attrs:{id:"charLink",type:"info"},on:{click:t.goToRegister}},[t._v("点此注册")])],1)])},w=[],I=(o("d3b7"),o("bc3a")),y=o.n(I),_=y.a.create({baseURL:"http://"+window.location.host,timeout:8e5});_.interceptors.request.use((function(t){var e=sessionStorage.getItem("token");return e&&(t.headers={Authorization:"Bearer "+e}),t}),(function(t){return Promise.reject(t)})),_.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)}));var k=_,C=function(t){return k.post("/user/login",t)},$=function(t){return k.post("/user/register",t)},T=function(){return k.get("/user")},P=function(t){return k.post("/user/student",t)},B=function(){return k.get("/course/create")},N=function(t){return k.post("/course/create",t)},E=function(){return k.get("/course/join")},L=function(t){return k.post("/course/join",t)},F=function(t){return k.get("/course/"+t)},R=function(t){return k.post("/problem",t)},j=function(t){return k.get("/problem/"+t)},O=function(t){return k.get("/problem/"+t,{responseType:"blob"})},q=function(t){return k.post("/exam/info",t)},A=function(t){return k.post("/exam",t)},H=function(t){return k.put("/exam",t)},W=function(){return k.get("/exam")},D=function(t){return k.post("/exam/publish",t)},M=function(t){return k.post("/exam/content",t)},z=function(t){return k.post("/answer",t)},U=function(t){return k.post("/answer/simple",t)},Q=function(t){return k.post("/answer/graphic",t)},J=function(t){return k.post("/answer/simple/"+t)},G=function(t){return k.get("/answer/graphic/"+t)},V=function(t){return k.post("/answer/list",t)},X=function(t){return k.get("/answer/cloud/"+t,{responseType:"blob"})},Y=function(t){return k.post("/answer/emotion",t)},K=function(t){return k.post("/answer/choice",t)},Z=function(t,e){return k.post("/course"+t,e)},tt={name:"Login",data:function(){return{loginStatus:0,login:{account:"",password:""}}},methods:{onSubmit:function(){var t=this;this.login.password.length<6?this.$message.error("密码小于6位"):C({username:this.login.account,password:this.login.password}).then((function(e){e.data.code>0?t.$message.error("用户名或密码错误"):(sessionStorage.setItem("token",e.data.token),T().then((function(t){sessionStorage.setItem("role",t.data.role),window.location.href="/"})))}))},goToRegister:function(){this.$router.push({path:"/register"})}}},et=tt,ot=(o("da41"),Object(u["a"])(et,x,w,!1,null,null,null)),st=ot.exports,at=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"registerRoot"}},[o("div",{attrs:{id:"registerBox"}},[o("el-form",{attrs:{id:"registerForm"},model:{value:t.register,callback:function(e){t.register=e},expression:"register"}},[o("span",{attrs:{id:"accountChar"}},[o("i",{staticClass:"el-icon-user-solid"})]),o("el-input",{staticClass:"input",attrs:{id:"accountInput",placeholder:"请输入账号"},model:{value:t.register.account,callback:function(e){t.$set(t.register,"account",e)},expression:"register.account"}}),o("span",{attrs:{id:"passwordChar"}},[o("i",{staticClass:"el-icon-lock"})]),o("el-input",{staticClass:"input",attrs:{id:"passwordInput",placeholder:"请输入密码","show-password":""},model:{value:t.register.password,callback:function(e){t.$set(t.register,"password",e)},expression:"register.password"}}),o("span",{attrs:{id:"instituteChar"}},[o("i",{staticClass:"el-icon-school"})]),o("el-input",{staticClass:"input",attrs:{id:"intituteInput",placeholder:"请输入机构名"},model:{value:t.register.instituteName,callback:function(e){t.$set(t.register,"instituteName",e)},expression:"register.instituteName"}})],1),o("el-button",{attrs:{id:"registerSubBtn",type:"primary"},on:{click:t.onSubmit}},[t._v(" 注册 ")])],1)])},nt=[],rt={name:"Register",data:function(){return{idCode:0,instituteId:1,register:{account:"",password:"",instituteName:""},institutes:[]}},methods:{onSubmit:function(){var t=this;console.log("注册请求"),this.register.password.length<6||this.register.account.length<6||""==this.instituteCode?this.$message.error("密码或账号小于6位 或 未选择注册机构"):$({username:this.register.account,password:this.register.password,instituteName:this.register.instituteName}).then((function(e){console.log(e),C({username:t.register.account,password:t.register.password}).then((function(t){sessionStorage.setItem("token",t.data.token),T().then((function(t){sessionStorage.setItem("role",t.data.role),window.location.href="/"}))}))}))}},mounted:function(){}},it=rt,lt=(o("ac59"),Object(u["a"])(it,at,nt,!1,null,null,null)),ct=lt.exports,ut=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"homeRoot"}},[o("div",{attrs:{id:"userInfoBox"}},[o("el-avatar",{attrs:{size:90,src:t.circleUrl,id:"userAvatar"}}),o("el-descriptions",{attrs:{title:"用户信息",id:"userDescription"}},[o("el-descriptions-item",{staticClass:"userInfo",attrs:{label:"用户ID"}},[t._v(" "+t._s(t.userId)+" ")]),o("el-descriptions-item",{staticClass:"userInfo",attrs:{label:"学校/机构"}},[t._v(" "+t._s(t.instituteName)+" ")])],1)],1),o("el-divider",{attrs:{"content-position":"left",id:"studentExamDiv"}},[t._v(" 所有评教 ")]),o("div",{attrs:{id:"examInfoBox"}},[o("el-table",{staticStyle:{width:"100%","border-radius":"25px"},attrs:{data:t.exams,border:"",stripe:"",height:"243"}},[o("el-table-column",{attrs:{prop:"className",label:"课程名",width:".25"}}),o("el-table-column",{attrs:{prop:"startTime",label:"开始时间",width:".25"}}),o("el-table-column",{attrs:{prop:"endTime",label:"结束时间",width:".25"}}),o("el-table-column",{attrs:{prop:"problemSetName",label:"考试名称",width:".25"}}),o("el-table-column",{attrs:{prop:"time",label:"",width:".25"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"success"},on:{click:function(o){return t.enterExam(e.$index)}}},[t._v("进入评教")])]}}])})],1)],1),o("el-divider",{attrs:{"content-position":"left",id:"studentClassDiv"}},[t._v(" 班级列表 ")]),o("div",{attrs:{id:"studentClassInfoBox"}},[o("el-table",{staticStyle:{width:"100%","border-radius":"25px"},attrs:{data:t.classes,border:"",stripe:"",height:"200"}},[o("el-table-column",{attrs:{prop:"classId",label:"课程号",width:".33"}}),o("el-table-column",{attrs:{prop:"className",label:"课程名",width:".33"}})],1)],1)],1)},dt=[],mt={name:"HomeStudent",data:function(){return{circleUrl:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",userId:0,instituteName:"",exams:[],classes:[]}},components:{},mounted:function(){var t=this;T().then((function(e){t.userId=e.data.userId,t.instituteName=e.data.instituteName})),E().then((function(e){t.classes=e.data.data;for(var o=0;o<t.classes.length;o++)q({classId:t.classes[o].classId}).then((function(e){for(var o=0;o<e.data.data.length;o++)t.exams.push(e.data.data[o])}))}))},methods:{enterExam:function(t){this.$router.push({name:"Exam",params:{problemSetId:this.exams[t].problemSetId,classId:this.exams[t].classId,startTime:this.exams[t].startTime,endTime:this.exams[t].endTime,className:this.exams[t].className,problemSetName:this.exams[t].problemSetName,studentId:this.userId}})}}},pt=mt,ht=(o("24c8"),Object(u["a"])(pt,ut,dt,!1,null,null,null)),ft=ht.exports,gt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},bt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"welcomeRoot"}},[o("div",{attrs:{id:"welcomeWord"}},[t._v(" This system is developed by our teams."),o("br"),o("br"),t._v(" We do this all for Computer Design Contest."),o("br"),o("br"),t._v(" This system is done for students to comment on teachers."),o("br")])])}],vt={name:"Welcome",data:function(){return{}},mounted:function(){},methods:{}},St=vt,xt=(o("295f"),Object(u["a"])(St,gt,bt,!1,null,null,null)),wt=xt.exports,It=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"examRoot"}},[o("div",{attrs:{id:"examBox"}},[o("div",{attrs:{id:"examHeader"}},[o("el-page-header",{attrs:{content:t.title,id:"examPageHeader"},on:{back:t.goBack}})],1),o("el-divider",{attrs:{id:"examDivider"}},[t._v("答题区域")]),o("div",{attrs:{id:"examQuestionBox"}},[o("el-form",t._l(t.questions,(function(e,s){return o("el-form-item",{key:e.problemId,staticClass:"examQuestionItem",attrs:{label:s+1+". "}},[o("br"),o("el-image",{staticStyle:{width:"60%"},attrs:{src:t.imgSrc[e.problemId]}}),o("br"),"单选题"==e.type?o("el-radio-group",{model:{value:t.ansList[s].answer,callback:function(e){t.$set(t.ansList[s],"answer",e)},expression:"ansList[index].answer"}},t._l(e.total,(function(e){return o("el-radio",{key:e,attrs:{label:e}},[t._v(" "+t._s(t.comments[e-1])+" ")])})),1):t._e(),"填空题"==e.type?o("el-form-item",[o("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",placeholder:"请输入内容",maxlength:"500","show-word-limit":""},model:{value:t.ansList[s].answer,callback:function(e){t.$set(t.ansList[s],"answer",e)},expression:"ansList[index].answer"}})],1):t._e(),o("el-divider")],1)})),1)],1),o("el-button",{staticStyle:{float:"right","margin-right":"15px","margin-bottom":"20px"},attrs:{type:"primary"},on:{click:t.subAns}},[t._v(" 提交评价 ")])],1)])},yt=[],_t=(o("fb6a"),o("3ca3"),o("ddb0"),o("2b3d"),o("9861"),o("a434"),{name:"Exam",data:function(){return{title:"",duration:"",questions:[],ansList:[],fileList:[],answerSetId:-1,imgSrc:[],videoWidth:300,videoHeight:300,capImgSrc:"",thisCancas:null,thisContext:null,thisVideo:null,comments:["优秀","良好","及格","不合格"]}},computed:{},mounted:function(){var t=this;this.title=this.$route.params.className,console.log(this.$route.params.classId),z({problemSetId:this.$route.params.problemSetId,classId:this.$route.params.classId}).then((function(e){console.log(e),t.answerSetId=e.data.answerSetId,M({problemSetId:t.$route.params.problemSetId}).then((function(e){for(var o=0;o<e.data.data.length;o++)t.questions.push(e.data.data[o]),"单选题"==e.data.data[o].type?t.ansList.push({answerSetId:t.answerSetId,answer:-1,order:o}):t.ansList.push({answerSetId:t.answerSetId,answer:"",order:o}),O(e.data.data[o].problemId).then((function(e){t.createImgSrc(e.data,e.config.url.slice(9))}))}))}))},methods:{goBack:function(){this.$router.push({path:"/"})},subAns:function(){for(var t=0;t<this.ansList.length;t++)"单选题"==this.questions[t].type?U(this.ansList[t]).then((function(t){console.log(t)})):Q(this.ansList[t]).then((function(t){console.log(t)}));this.$router.push({path:"/"}),this.$$message("评教成功")},handleExceed:function(){this.$message.warning("超出文件上传的限制数量")},createImgSrc:function(t,e){this.imgSrc[e]=window.URL.createObjectURL(t),this.imgSrc.splice(0,0)},uploadAnsImg:function(t){this.ansList[t.data].append("image",t.file)}}}),kt=_t,Ct=(o("4fe3"),Object(u["a"])(kt,It,yt,!1,null,null,null)),$t=Ct.exports,Tt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"homeTeacherRoot"}},[o("div",{attrs:{id:"teacherInfoBox"}},[o("el-avatar",{attrs:{size:90,src:t.circleUrl,id:"userAvatar"}}),o("el-descriptions",{attrs:{title:"用户信息",id:"userDescription"}},[o("el-descriptions-item",{staticClass:"uerInfo",attrs:{label:"学校/机构"}},[t._v(t._s(t.instituteName))])],1)],1),o("el-divider",{attrs:{"content-position":"left",id:"teacherManageDiv"}},[t._v(" 教务管理 ")]),o("div",{attrs:{id:"teacherManageBox"}},[o("el-button",{attrs:{id:"bankBtn",type:"success"},on:{click:t.goToQuestionBank}},[t._v(" 评教题目列表 ")]),o("el-button",{attrs:{id:"examManageBtn",type:"success"},on:{click:t.goToExamManage}},[t._v(" 评教管理 ")]),o("el-button",{attrs:{id:"courseBtn",type:"success"},on:{click:t.goToCourse}},[t._v(" 班级管理 ")]),o("el-button",{attrs:{id:"addStuBtn",type:"primary"},on:{click:t.showDialogAddStu}},[t._v(" 为机构添加学生 ")])],1),o("el-divider",{attrs:{"content-position":"left",id:"teacherClassDiv"}},[t._v(" 班级列表 ")]),o("div",{attrs:{id:"teacherClassInfoBox"}},[o("el-table",{staticStyle:{width:"100%","border-radius":"25px"},attrs:{data:t.classes,border:"",stripe:"",height:"360"}},[o("el-table-column",{attrs:{prop:"classId",label:"课程号",width:".33"}}),o("el-table-column",{attrs:{prop:"className",label:"课程名",width:".33"}})],1)],1),o("el-dialog",{attrs:{title:"评价词云",visible:t.offWeightForm},on:{"update:visible":function(e){t.offWeightForm=e}}},[o("el-image",{staticStyle:{width:"60%"},attrs:{src:t.imgSrc}}),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.offWeightForm=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.subOffWeight}},[t._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"评价分布",visible:t.offGradeForm},on:{"update:visible":function(e){t.offGradeForm=e}}},[o("Echarts"),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.offGradeForm=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.subOffGrade}},[t._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"为机构添加学生",visible:t.dialogFormAddStu},on:{"update:visible":function(e){t.dialogFormAddStu=e}}},[o("el-form",{attrs:{model:t.form}},[o("el-form-item",{attrs:{label:"学生姓名","label-width":t.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.student.studentName,callback:function(e){t.$set(t.student,"studentName",e)},expression:"student.studentName"}})],1),o("el-form-item",{attrs:{label:"学生学号","label-width":t.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.student.studentNum,callback:function(e){t.$set(t.student,"studentNum",e)},expression:"student.studentNum"}})],1),o("el-form-item",{attrs:{label:"学生密码","label-width":t.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off","show-password":""},model:{value:t.student.password,callback:function(e){t.$set(t.student,"password",e)},expression:"student.password"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.cancelAddStu}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.addStu}},[t._v("确 定")])],1)],1)],1)},Pt=[],Bt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Nt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"echartsRoot"}},[o("div",{staticStyle:{width:"600px",height:"400px"},attrs:{id:"echartsMain"}})])}],Et={name:"Echarts",data:function(){return{}},props:{proparray:Array},methods:{myEcharts:function(){var t=this.$echarts.init(document.getElementById("echartsMain")),e={title:{text:"老师评价统计",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"Comments",type:"pie",radius:"50%",data:this.proparray,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.setOption(e)},dispose:function(){var t=this.$echarts.getInstanceByDom(document.getElementById("echartsMain"));t.dispose()}},mounted:function(){console.log("echarts called"),console.log(this.proparray)}},Lt=Et,Ft=Object(u["a"])(Lt,Bt,Nt,!1,null,null,null),Rt=Ft.exports,jt={name:"HomeTeacher",data:function(){return{circleUrl:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",userId:0,instituteName:"",classes:[],offWeightForm:!1,postOffWightIndex:-1,offWeight:0,offGradeForm:!1,stuIdList:[],postOffGradeIndex:-1,student:{studentNum:"",studentName:"",password:""},dialogFormAddStu:!1,imgSrc:""}},components:{Echarts:Rt},methods:{goToQuestionBank:function(){this.$router.push({name:"QuestionBank"})},goToCourse:function(){this.$router.push({name:"Course"})},goToExamManage:function(){this.$router.push({name:"ExamManage"})},showCloud:function(t){X(),this.offWeightForm=!0,this.postOffWightIndex=t},cancelAddStu:function(){this.dialogFormAddStu=!1},showDialogAddStu:function(){this.dialogFormAddStu=!0},addStu:function(){P(this.student).then((function(t){console.log(t)})),this.dialogFormAddStu=!1,this.student.account="",this.student.password="",this.student.name="",this.$router.push({path:"/"}),this.$message("添加成功")}},mounted:function(){var t=this;T().then((function(e){t.userId=e.data.userId,t.instituteName=e.data.instituteName})),B().then((function(e){t.classes=e.data.data}))}},Ot=jt,qt=(o("c709"),Object(u["a"])(Ot,Tt,Pt,!1,null,null,null)),At=qt.exports,Ht=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"homeRoot"}},[o("router-view")],1)},Wt=[],Dt={name:"Home",mounted:function(){}},Mt=Dt,zt=Object(u["a"])(Mt,Ht,Wt,!1,null,null,null),Ut=zt.exports,Qt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"questionBankRoot"}},[o("div",{attrs:{id:"questionBox"}},[o("div",{attrs:{id:"questionHeader"}},[o("el-page-header",{attrs:{content:"题库管理",id:"questionPageHeader"},on:{back:t.goBack}}),o("el-button",{attrs:{size:"small",type:"primary",id:"createPaperBtn"},on:{click:t.switchProblemSet}},[t._v(" 组卷 ")]),o("el-input",{staticStyle:{width:"200px",position:"absolute",left:"70%",top:"10px"},attrs:{placeholder:"请输入关键词","prefix-icon":"el-icon-search"},model:{value:t.seacherWord,callback:function(e){t.seacherWord=e},expression:"seacherWord"}}),o("el-button",{staticStyle:{position:"absolute",left:"85%",top:"15px"},attrs:{size:"small",type:"primary",id:"searchPaperBtn"},on:{click:t.searchQuestion}},[t._v(" 搜索 ")]),o("el-button",{staticStyle:{position:"absolute",left:"89.5%",top:"15px"},attrs:{size:"small",type:"success",id:"searchPaperBtn"},on:{click:t.goToProblem}},[t._v(" 添加 ")])],1),o("el-divider",{attrs:{id:"questionDivider"}},[t._v("所有题目")]),o("div",{attrs:{id:"questionBankBox"}},[o("el-form",t._l(t.questionPage,(function(e){return o("el-form-item",{key:e.problemId,staticClass:"questionBankItem",attrs:{label:e.problemId+"."}},[o("el-image",{staticStyle:{width:"40%"},attrs:{src:t.imgSrc[e.problemId]}}),o("br"),o("br"),"单选题"==e.type?o("el-radio-group",t._l(e.total,(function(e){return o("el-radio",{key:e,attrs:{label:e,disabled:""}},[t._v(" "+t._s(t.comments[e-1])+" ")])})),1):t._e(),"填空题"==e.type?o("el-form-item"):t._e(),t.createProblemSet?o("div",[o("br"),o("el-button",{attrs:{type:"warning"},on:{click:function(o){return t.addProblemToSet(e.problemId)}}},[t._v(" 添加该题 ")])],1):t._e(),o("el-divider")],1)})),1)],1),o("div",{attrs:{id:"questionPagination"}},[o("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":20,layout:"total, prev, pager, next",total:t.questionTotalNum,"hide-on-single-page":!0,background:""},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1),o("el-drawer",{attrs:{title:"新的评教",visible:t.drawerShow,direction:"rtl",size:"50%"},on:{"update:visible":function(e){t.drawerShow=e}}},[o("el-form",[o("el-form-item",[o("el-input",{attrs:{placeholder:"请输入评教名称"},model:{value:t.problemSetName,callback:function(e){t.problemSetName=e},expression:"problemSetName"}})],1)],1),o("el-table",{attrs:{data:t.problemSet,height:"600"}},[o("el-table-column",{attrs:{property:"problemId",label:"题目号"}}),o("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{staticStyle:{float:"right"},attrs:{type:"danger",size:"small"},on:{click:function(o){return t.deleteProblemFromList(e.$index)}}},[t._v(" 删除该题 ")])]}}])})],1),o("el-button",{staticStyle:{float:"right",margin:"10px"},attrs:{type:"primary"},on:{click:t.subProblemSet}},[t._v(" 完成 ")])],1)],1),t.createProblemSet?o("div",{attrs:{id:"setDrawerTag"},on:{click:function(e){t.drawerShow=!t.drawerShow}}},[t._v("   点击打开待整合评教题目列表 ")]):t._e()])},Jt=[],Gt={name:"QuestionBank",data:function(){return{fileList:[],questionTotalNum:60,currentPage:1,searchWord:"",createProblemSet:!1,drawerShow:!1,problemSetName:"",questionPage:[],problemSet:[],imgSrc:[],comments:["优秀","良好","及格","不合格"]}},methods:{goBack:function(){this.$router.push({path:"/"})},handleExceed:function(){this.$message.warning("超出文件上传的限制数量")},handleCurrentChange:function(){var t=this;j("?page="+this.currentPage+"&limit=20").then((function(e){t.questionPage=e.data.data;for(var o=0;o<t.questionPage.length;o++)O(t.questionPage[o].problemId).then((function(e){t.createImgSrc(e.data,e.config.url.slice(9))}))}))},goToProblem:function(){this.$router.push({name:"Problem"})},switchProblemSet:function(){this.createProblemSet=!this.createProblemSet},addProblemToSet:function(t){var e={problemId:t};this.problemSet.push(e)},deleteProblemFromList:function(t){this.problemSet.splice(t,1)},subProblemSet:function(){var t,e=this;0==this.problemSet.length||""==this.problemSetName?this.$message("试卷名与题库均不能为空"):A({problemSetName:this.problemSetName}).then((function(o){t=o.data.problemSetId,console.log(e.problemSet),console.log(t),H({problemSetId:t,problemList:e.problemSet}).then((function(t){e.$router.go(0),console.log(t)}))}))},createImgSrc:function(t,e){this.imgSrc[e]=window.URL.createObjectURL(t),this.imgSrc.splice(0,0)}},mounted:function(){var t=this;j("?page=1&limit=20").then((function(e){t.questionPage=e.data.data;for(var o=0;o<t.questionPage.length;o++)O(t.questionPage[o].problemId).then((function(e){t.createImgSrc(e.data,e.config.url.slice(9))}))}))}},Vt=Gt,Xt=(o("4d5f"),Object(u["a"])(Vt,Qt,Jt,!1,null,null,null)),Yt=Xt.exports,Kt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"courseRoot"}},[o("div",{attrs:{id:"courseHeader"}},[o("el-button",{staticStyle:{"margin-left":"10px","margin-top":"10px"},attrs:{size:"small",type:"success",id:"goHomeBtn"},on:{click:t.goToHome}},[t._v(" 返回 ")]),o("el-divider",{attrs:{direction:"vertical"}}),o("el-input",{staticStyle:{width:"200px","margin-top":"10px","margin-left":"10px"},attrs:{placeholder:"请输入课程名","prefix-icon":"el-icon-search"},model:{value:t.seacherClassWord,callback:function(e){t.seacherClassWord=e},expression:"seacherClassWord"}}),o("el-button",{staticStyle:{"margin-left":"10px","margin-top":"10px"},attrs:{size:"small",type:"primary",id:"searchPaperBtn"},on:{click:t.searchClass}},[t._v(" 搜索 ")]),t.isTeacher?o("el-button",{staticClass:"courseHeaderBtn",staticStyle:{"margin-top":"10px"},attrs:{type:"primary",size:"small"},on:{click:t.createCourse}},[t._v(" 创建班级 ")]):t._e()],1),o("el-divider",{attrs:{"content-position":"left",id:"courseClassDiv"}},[t._v(" 班级列表 ")]),o("div",{attrs:{id:"courseClassInfoBox"}},[o("el-table",{staticStyle:{width:"100%","border-radius":"25px"},attrs:{data:t.classes,border:"",stripe:""}},[o("el-table-column",{attrs:{prop:"classId",label:"课程号"}}),o("el-table-column",{attrs:{prop:"className",label:"课程名"}}),t.isTeacher?t._e():o("el-table-column",{attrs:{prop:"owner",label:"教师ID"}}),o("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[t.isTeacher?o("el-button",{attrs:{type:"success"},on:{click:function(o){return t.searchClassStudent(e.$index)}}},[t._v(" 查看学生 ")]):t._e(),t.isTeacher?o("el-button",{attrs:{type:"success"},on:{click:function(o){return t.addStudentToClass(e.$index)}}},[t._v(" 添加学生 ")]):t._e()]}}])})],1)],1),o("el-dialog",{attrs:{title:"创建班级",visible:t.dialogFormCreateCourse},on:{"update:visible":function(e){t.dialogFormCreateCourse=e}}},[o("el-form",{attrs:{model:t.form}},[o("el-form-item",{attrs:{label:"班级名称","label-width":t.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.className,callback:function(e){t.className=e},expression:"className"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.createCourse}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitCourse}},[t._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"添加学生",visible:t.dialogFormCreateJoin},on:{"update:visible":function(e){t.dialogFormCreateJoin=e}}},[o("el-form",{attrs:{model:t.form}},[o("el-form-item",{attrs:{label:"学生ID","label-width":t.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.joinClassStuId,callback:function(e){t.joinClassStuId=e},expression:"joinClassStuId"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.joinClass}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitJoin}},[t._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"查看学生",visible:t.dialogFormStuList},on:{"update:visible":function(e){t.dialogFormStuList=e}}},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.stuList,border:"",stripe:""}},[o("el-table-column",{attrs:{prop:"id",label:"学生ID"}})],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:t.stuListCancel}},[t._v("确 定")])],1)],1)],1)},Zt=[],te={name:"Course",data:function(){return{seacherClassWord:"",classes:[],dialogFormCreateCourse:!1,dialogFormCreateJoin:!1,classPsw:"",className:"",joinClassStuId:"",joinClassIndex:-1,stuList:[],dialogFormStuList:!1}},computed:{isTeacher:function(){return"教师"==sessionStorage.getItem("role")}},methods:{searchClass:function(){var t=this;Z("?page=1&limit=20",{className:this.seacherClassWord}).then((function(e){console.log(e),t.classes=e.data.data}))},goToHome:function(){this.$router.push({path:"/"})},createCourse:function(){this.dialogFormCreateCourse=!this.dialogFormCreateCourse},onSubmitCourse:function(){""==this.className?this.$message.error("格式有误"):N({className:this.className}).then((function(t){console.log(t)})),window.location.href="/course"},addStudentToClass:function(t){this.joinClassIndex=t,this.dialogFormCreateJoin=!this.dialogFormCreateJoin},onSubmitJoin:function(){var t=this;L({classId:this.classes[this.joinClassIndex].classId,studentId:this.joinClassStuId}).then((function(e){t.$message(e.data.msg),window.location.href="/course"}))},searchClassStudent:function(t){var e=this;F(this.classes[t].classId).then((function(t){e.stuList=[];for(var o=0;o<t.data.data.length;o++){var s={id:t.data.data[o]};e.stuList.push(s)}})),this.dialogFormStuList=!0},stuListCancel:function(){this.dialogFormStuList=!this.dialogFormStuList},joinClass:function(){this.dialogFormCreateJoin=!1}},mounted:function(){var t=this;"教师"==sessionStorage.getItem("role")&&B().then((function(e){t.classes=e.data.data}))}},ee=te,oe=(o("0c69"),Object(u["a"])(ee,Kt,Zt,!1,null,null,null)),se=oe.exports,ae=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"problemRoot"}},[o("el-divider",[t._v("上传题目")]),o("el-form",{attrs:{id:"createProblemForm"}},[o("div",{attrs:{id:"creteProblemBox"}},[o("el-form-item",{attrs:{label:"题型选择:"}},[o("el-radio-group",{attrs:{id:"problemTypeRadio"},model:{value:t.problemType,callback:function(e){t.problemType=e},expression:"problemType"}},[o("el-radio",{attrs:{label:"单选题"}},[t._v("选择型")]),o("el-radio",{attrs:{label:"填空题"}},[t._v("填空型")])],1)],1),o("el-form-item",{attrs:{label:"上传题干:"}},[o("el-upload",{ref:"uploadProblem",staticClass:"uploadQuestion",attrs:{action:"","file-list":t.fileList,"list-type":"picture","auto-upload":!1,limit:1,"on-exceed":t.handleExceed,accept:".png","http-request":t.uploadImg}},[o("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 只能上传1个jpg文件,且不超过500kb ")])],1)],1),"单选题"==t.problemType?o("el-form-item",{attrs:{label:"选择选项总数:"}},[o("el-input-number",{attrs:{min:1,max:4},model:{value:t.optionNum,callback:function(e){t.optionNum=e},expression:"optionNum"}})],1):t._e(),o("el-button",{staticStyle:{float:"right",margin:"10px"},attrs:{id:"subProblemBtn",type:"primary"},on:{click:t.subProblem}},[t._v(" 确定上传 ")]),o("el-button",{staticStyle:{float:"right",margin:"10px"},attrs:{id:"goToQuestionBankBtn",type:"success"},on:{click:t.goToQuestionBank}},[t._v(" 返回 ")])],1)])],1)},ne=[],re={name:"Problem",data:function(){return{problemType:"单选题",optionNum:1,ansIndex:1,img:"",fileList:[]}},methods:{handleExceed:function(){this.$message.warning("超出文件上传的限制数量")},goToQuestionBank:function(){this.$router.push({name:"QuestionBank"})},subProblem:function(){if("单选题"==this.problemType){this.$refs.uploadProblem.submit();var t=new FormData;t.append("type",this.problemType),t.append("answer",this.ansIndex),t.append("total",this.optionNum),t.append("image",this.img),console.log(this.img),R(t).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}else{this.$refs.uploadProblem.submit();var e=new FormData;e.append("type",this.problemType),e.append("image",this.img),R(e).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}window.location.href="/"},uploadImg:function(t){this.img=t.file}}},ie=re,le=(o("816a"),Object(u["a"])(ie,ae,ne,!1,null,null,null)),ce=le.exports,ue=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"examManageRoot"}},[o("div",{attrs:{id:"examManageHeader"}},[o("el-button",{staticStyle:{"margin-left":"10px","margin-top":"10px"},attrs:{size:"small",type:"success",id:"goHomeBtn"},on:{click:t.goToHome}},[t._v(" 返回 ")]),o("el-divider",{attrs:{direction:"vertical"}}),o("el-input",{staticStyle:{width:"200px","margin-top":"10px","margin-left":"10px"},attrs:{placeholder:"请输入课程名","prefix-icon":"el-icon-search"},model:{value:t.seacherClassWord,callback:function(e){t.seacherClassWord=e},expression:"seacherClassWord"}}),o("el-button",{staticStyle:{"margin-left":"10px","margin-top":"10px"},attrs:{size:"small",type:"primary",id:"searchPaperBtn"},on:{click:t.searchClass}},[t._v(" 搜索 ")])],1),o("el-divider",{attrs:{"content-position":"left",id:"examManageClassDiv"}},[t._v(" 班级列表 ")]),o("div",{attrs:{id:"examManageClassInfoBox"}},[o("el-table",{staticStyle:{width:"100%","border-radius":"25px"},attrs:{data:t.classes,border:"",stripe:"",height:"250"}},[o("el-table-column",{attrs:{prop:"classId",label:"课程号"}}),o("el-table-column",{attrs:{prop:"className",label:"课程名"}}),t.isTeacher?t._e():o("el-table-column",{attrs:{prop:"owner",label:"教师名称"}}),o("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"success"},on:{click:function(o){return t.goToExamPublish(e.$index)}}},[t._v(" 发布评教 ")])]}}])})],1)],1),o("el-divider",{attrs:{"content-position":"left",id:"examManageExamDiv"}},[t._v(" 评教列表 ")]),o("div",{attrs:{id:"examManageInfoBox"}},[o("el-table",{staticStyle:{width:"100%","border-radius":"25px"},attrs:{data:t.exams,border:"",stripe:"",height:"230"}},[o("el-table-column",{attrs:{prop:"className",label:"课程名",width:".25"}}),o("el-table-column",{attrs:{prop:"startTime",label:"开始时间",width:".25"}}),o("el-table-column",{attrs:{prop:"endTime",label:"结束时间",width:".25"}}),o("el-table-column",{attrs:{prop:"problemSetName",label:"评教名",width:".25"}}),o("el-table-column",{attrs:{prop:"time",label:"",width:".25"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"success"},on:{click:function(o){return t.goToReview(e.$index)}}},[t._v(" 查看评教结果 ")])]}}])})],1)],1),o("el-dialog",{attrs:{title:"成绩统计",visible:t.dialogFormScore},on:{"update:visible":function(e){t.dialogFormScore=e}}},[o("div",{staticStyle:{height:"600px",width:"400px"},attrs:{id:"scorePie"}}),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:t.scoreCancel}},[t._v("确 定")])],1)])],1)},de=[],me=o("313e"),pe={name:"ExamManage",data:function(){return{seacherClassWord:"",classes:[],exams:[],dialogFormScore:!1,myChart:{}}},methods:{goToHome:function(){this.$router.push({path:"/"})},goToExamPublish:function(t){this.$router.push({name:"ExamPublish",params:{classId:this.classes[t].classId,className:this.classes[t].className}})},goToReview:function(t){this.$router.push({name:"Review",params:{problemSetId:this.exams[t].problemSetId,classId:this.exams[t].classId}})},computeStuScores:function(t){console.log(0);var e=me["init"](document.getElementById("scorePie"),null,{width:600,height:400});e.setOption({title:{text:this.exams[t].className+"-"+this.exams[t].problemSetName},tooltip:{trigger:"item"},series:[{name:"Access From",type:"pie",radius:"50%",data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),console.log(1),this.dialogFormScore=!0,console.log(2)},scoreCancel:function(){this.dialogFormScore=!1}},mounted:function(){var t=this;q({}).then((function(e){t.exams=e.data.data})),B().then((function(e){t.classes=e.data.data}))},computed:{isTeacher:function(){return"教师"==sessionStorage.getItem("role")}}},he=pe,fe=(o("8399"),Object(u["a"])(he,ue,de,!1,null,null,null)),ge=fe.exports,be=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"examPublishRoot"}},[o("el-divider",[t._v("发布考试")]),o("el-form",{attrs:{id:"publishExamForm"}},[o("div",{attrs:{id:"publishExamBox"}},[o("span",{staticClass:"el-form-item__label"},[t._v("当前班级:"+t._s(t.className))]),o("br"),o("br"),o("span",{staticClass:"el-form-item__label"},[t._v("对应课程号:"+t._s(t.classId))]),o("br"),o("br"),o("el-form-item",{attrs:{label:"选择试卷:"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择试卷号"},model:{value:t.problemSetId,callback:function(e){t.problemSetId=e},expression:"problemSetId"}},t._l(t.problemSetData,(function(e){return o("el-option",{key:e.problemSetId,attrs:{label:e.problemSetId,value:e.problemSetId}},[o("span",{staticStyle:{float:"left"}},[t._v(" "+t._s(e.problemSetId)+" ")]),o("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(" "+t._s(e.problemSetName)+" ")])])})),1)],1),o("el-form-item",{attrs:{label:"考试时间"}},[o("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),o("el-button",{staticStyle:{float:"right",margin:"10px"},attrs:{id:"publishExamBtn",type:"primary"},on:{click:t.publishExamBtn}},[t._v(" 确定发布 ")]),o("el-button",{staticStyle:{float:"right",margin:"10px"},attrs:{id:"goToQuestionBankBtn",type:"success"},on:{click:t.goToExamManage}},[t._v(" 返回 ")])],1)])],1)},ve=[],Se={name:"ExamPublish",data:function(){return{className:"",classId:-1,time:"",problemSetId:-1,problemSetData:[]}},methods:{goToExamManage:function(){this.$router.push({name:"ExamManage"})},publishExamBtn:function(){""==this.startTime||""==this.endTime||-1==this.problemSetId||-1==this.classId?this.$message("信息不全"):D({problemSetId:this.problemSetId,classId:this.classId,startTime:this.startTime,endTime:this.endTime}).then((function(t){console.log(t),window.location.href="/exammanage"})).catch((function(t){console.log(t)}))}},created:function(){this.className=this.$route.params.className,this.classId=this.$route.params.classId},mounted:function(){var t=this;W().then((function(e){t.problemSetData=e.data.data}))},computed:{startTime:function(){var t=this.time[0].getMonth()+1;return this.time[0].getFullYear()+"-"+t+"-"+this.time[0].getDate()+" "+this.time[0].getHours()+":"+this.time[0].getHours()+":"+this.time[0].getSeconds()},endTime:function(){var t=this.time[1].getMonth()+1;return this.time[1].getFullYear()+"-"+t+"-"+this.time[1].getDate()+" "+this.time[1].getHours()+":"+this.time[1].getHours()+":"+this.time[1].getSeconds()}}},xe=Se,we=(o("9dcd"),Object(u["a"])(xe,be,ve,!1,null,null,null)),Ie=we.exports,ye=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"reviewRoot"}},[o("div",{attrs:{id:"answerBox"}},[o("div",{attrs:{id:"questionHeader"}},[o("el-page-header",{attrs:{content:t.className+"-"+t.problemSetName,id:"questionPageHeader"},on:{back:t.goBack}})],1),o("el-divider",{attrs:{id:"questionDivider"}},[t._v("阅卷区域")]),o("div",{attrs:{id:"questionBankBox"}},[o("el-form",t._l(t.questions,(function(e,s){return o("el-form-item",{key:e.problemId,staticClass:"questionBankItem",attrs:{label:s+1}},[o("el-image",{staticStyle:{width:"40%"},attrs:{src:t.questionImgSrc[e.problemId]}}),o("br"),o("br"),"单选题"==e.type?o("el-radio-group",{model:{value:t.ansList[s],callback:function(e){t.$set(t.ansList,s,e)},expression:"ansList[index]"}},t._l(e.total,(function(e){return o("el-radio",{key:e,attrs:{label:e,disabled:""}},[t._v(" "+t._s(t.comments[e-1])+" ")])})),1):t._e(),"单选题"==e.type?o("el-form-item",[o("el-button",{staticStyle:{"margin-top":"15px"},attrs:{type:"warning"},on:{click:function(e){return t.showChoice(s)}}},[t._v(" 查看选项频率分布 ")])],1):t._e(),"填空题"==e.type?o("el-form-item",[o("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.showCloud(s)}}},[t._v(" 查看词云分布 ")]),o("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.showEmotion(s)}}},[t._v(" 查看情感分布 ")])],1):t._e(),o("el-divider")],1)})),1)],1)],1),o("el-dialog",{attrs:{title:"评价词云",visible:t.dialogFormCloud}},[o("el-image",{staticStyle:{width:"60%"},attrs:{src:t.imgSrc}}),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormCloud=!1}}},[t._v("确定")])],1)],1),o("el-dialog",{attrs:{title:t.title+"分布",visible:t.dialogFormResult}},[o("Echarts",{ref:"echart",attrs:{proparray:t.proparray}}),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:t.dialogFormResultCancel}},[t._v(" 确 定 ")])],1)],1)],1)},_e=[],ke={name:"Review",data:function(){return{studentId:76,className:"CSAPP2022",problemSetName:"CSAPPtest8",questions:[],questionImgSrc:[],ansImgSrc:[],ansSetList:[],ansList:[],stuIndex:0,scoreList:[],comments:["优秀","良好","及格","不合格"],dialogFormCloud:!1,dialogFormResult:!1,imgSrc:"",proparray:[],emotions:["最消极","较消极","中立","较积极","最积极"],title:""}},components:{Echarts:Rt},methods:{goBack:function(){this.$router.push({name:"ExamManage"})},createImgSrc:function(t,e){this.questionImgSrc[e]=window.URL.createObjectURL(t),this.questionImgSrc.splice(0,0)},getAns:function(){for(var t=this,e=function(e){"单选题"==t.questions[e].type?J({answerSetId:t.ansSetList[t.stuIndex].answerSetId,order:e}).then((function(o){t.ansList[e]=o.data.answer})):(G(t.ansSetList[t.stuIndex].answerSetId+"/"+e).then((function(o){t.ansList[e]=window.URL.createObjectURL(o.data)})),t.scoreList[e]=0)},o=0;o<this.questions.length;o++)e(o)},showCloud:function(t){var e=this;console.log("show cloud called"),X("?problemSetId="+this.$route.params.problemSetId+"&classId="+this.$route.params.classId+"&order="+t).then((function(t){console.log("get cloud called"),console.log(t),e.createImgSrcReview(t.data),e.dialogFormCloud=!0}));var o=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});setTimeout((function(){o.close()}),1500),console.log("show cloud ended")},createImgSrcReview:function(t){this.imgSrc=window.URL.createObjectURL(t)},showEmotion:function(t){var e=this;console.log("show emotion called"),this.title="情感",Y({problemSetId:this.$route.params.problemSetId,classId:this.$route.params.classId,order:t}).then((function(t){console.log("post emotion called"),e.proparray=[];for(var o=0;o<t.data.result.length;o++){var s={value:t.data.result[o],name:e.emotions[o]};e.proparray.push(s)}e.dialogFormResult=!0,setTimeout((function(){e.$refs.echart.myEcharts()}),100)})),console.log("show emotion ended")},showChoice:function(t){var e=this;console.log("show choice called"),this.title="选项",K({problemSetId:this.$route.params.problemSetId,classId:this.$route.params.classId,order:t}).then((function(t){console.log("post choice called"),e.proparray=[];for(var o=0;o<t.data.result.length;o++){var s={value:t.data.result[o],name:e.comments[o]};e.proparray.push(s)}e.dialogFormResult=!0,setTimeout((function(){e.$refs.echart.myEcharts()}),100)})),console.log("show choice ended")},dialogFormResultCancel:function(){this.dialogFormResult=!1,this.$refs.echart.dispose()}},mounted:function(){var t=this;M({problemSetId:this.$route.params.problemSetId}).then((function(e){t.questions=e.data.data;for(var o=0;o<t.questions.length;o++)O(t.questions[o].problemId).then((function(e){t.createImgSrc(e.data,e.config.url.slice(9))}));V({problemSetId:t.$route.params.problemSetId,classId:t.$route.params.classId}).then((function(e){0==e.data.data.length?(t.$message("当前暂无学生提交答卷"),console.log(e)):t.ansSetList=e.data.data}))}))}},Ce=ke,$e=(o("d5a2"),Object(u["a"])(Ce,ye,_e,!1,null,null,null)),Te=$e.exports;s["default"].use(S["a"]);var Pe=new S["a"]({mode:"history",routes:[{name:"LoginPage",path:"/login",component:st},{name:"RegisterPage",path:"/register",component:ct},{name:"HomePage",path:"/home",component:Ut,children:[{name:"StudentHomePage",path:"student",component:ft},{name:"TeacherHomePage",path:"teacher",component:At}]},{name:"WelcomePgae",path:"/",component:wt,beforeEnter:function(t,e,o){sessionStorage.getItem("token")&&("学生"==sessionStorage.getItem("role")?o({name:"StudentHomePage"}):"教师"==sessionStorage.getItem("role")&&o({name:"TeacherHomePage"})),o()}},{name:"Exam",path:"/exam",component:$t},{name:"QuestionBank",path:"/questionbank",component:Yt},{name:"Course",path:"/course",component:se},{name:"Problem",path:"/problem",component:ce},{name:"ExamManage",path:"/exammanage",component:ge},{name:"ExamPublish",path:"/exampublish",component:Ie},{name:"Review",path:"/review",component:Te}]});Pe.beforeEach((function(t,e,o){var s=sessionStorage.getItem("role"),a=["StudentHomePage","Exam","FaceImg"],n=["TeacherHomePage","QuestionBank","Problem","ExamManage","ExamPublish","Review"];a.indexOf(t.name)>=0?"学生"==s?o():o("/"):n.indexOf(t.name)>=0?"教师"==s?o():o("/"):o()}));var Be=Pe,Ne=o("313e");s["default"].prototype.$echarts=Ne,s["default"].config.productionTip=!1,s["default"].use(v.a),s["default"].use(S["a"]),new s["default"]({render:function(t){return t(g)},router:Be}).$mount("#app")},"793e":function(t,e,o){},"7fdb":function(t,e,o){},"816a":function(t,e,o){"use strict";o("1c10")},8399:function(t,e,o){"use strict";o("01c5")},"85ec":function(t,e,o){},"93d3":function(t,e,o){},9797:function(t,e,o){},"9dcd":function(t,e,o){"use strict";o("0059")},a82d:function(t,e,o){},ac59:function(t,e,o){"use strict";o("9797")},c709:function(t,e,o){"use strict";o("e21e")},d137:function(t,e,o){},d5a2:function(t,e,o){"use strict";o("df4e")},d7ff:function(t,e,o){t.exports=o.p+"img/backgroundImg.aa368059.jpg"},da41:function(t,e,o){"use strict";o("266e")},df4e:function(t,e,o){},e21e:function(t,e,o){},f230:function(t,e,o){"use strict";o("7fdb")}});
//# sourceMappingURL=app.8c563149.js.map